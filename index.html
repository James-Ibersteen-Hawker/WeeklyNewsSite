<!doctype html>
<html lang="en">
  <head>
    <title>Weekly News Site</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <script src="https://unpkg.com/vue@3.0.11/dist/vue.global.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="carousel.css" />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body id="vueApp" class="container-fluid">
    <div class="navBar">
      <ul class="nav nav-underline">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="index.html">
            <h2>Home</h2>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="">
            <h2>Example</h2>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="">
            <h2>Example</h2>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="">
            <h2>Don't not click</h2>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="">
            <h2>Example</h2>
          </a>
        </li>
      </ul>
    </div>
    <main class="my-5">
      <button>test button</button> <button>test button 2</button
      ><button @click="clearData()">clear local storage</button>
      <button
        class="btn btn-primary"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#timeMachineOff"
        aria-controls="timeMachineOff"
      >
        Open Time Machine
      </button>
      <div class="container" id="cardCarousel">
        <div class="card-carousel">
          <div class="card" v-for="(day, i) in days" :id="i + 1">
            <div class="date">{{ISOtoDate(day[0])}}</div>
            <div v-if="day[1].events.length === 0">No Events</div>
            <div
              class="event"
              v-for="event in day[1].events"
              :style="{background: createBG(event.BG)}"
            >
              <h1
                v-if="event.Name"
                class="eName"
                :style="{
                  fontSize: event.HeadingSize || DefaultHSize, 
                  fontFamily: event.NameFont || DefaultHFont 
                }"
              >
                {{event.Name}}
              </h1>
              <p
                v-if="event.Text"
                class="eBody"
                :style="{
                  fontSize: event.BodySize || DefaultBSize, 
                  fontFamily: event.TextFont || DefaultBFont 
                  }"
              >
                {{event.Text}}
              </p>
              <p class="metaText d-none" v-if="event.METATEXT">
                {{event.METATEXT}}
              </p>
            </div>
          </div>
        </div>
        <a href="#" class="visuallyhidden card-controller"
          >Carousel controller</a
        >
      </div>
      <div
        class="newsGenBox text-center justify-content-center"
        id="newsGenBox"
      >
        Long Term
      </div>
    </main>
    <div id="topBtn" class="topBtn">To Top</div>
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="timeMachineOff"
      aria-labelledby="timeMachineLabel"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="timeMachineLabel">Time Machine</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <div
          class="date"
          v-for="(date, i) in timeMachine"
          :data-index="i"
          :class="{currentWeek: index === i}"
          @click="setWeek(i)"
        >
          {{ISOtoDate(date)}}
        </div>
      </div>
    </div>
    <!-- scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script src="sheet.js"></script>
    <script src="carousel.js"></script>
    <script src="script.js"></script>
  </body>
</html>
